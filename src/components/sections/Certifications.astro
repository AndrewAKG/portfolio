---
import Button from "../ui/button/Button.astro";
import { certifications } from "../../data/certifications";

interface Props {
  title?: string;
}

const { title } = Astro.props as Props;
---

<section id="certifications" class="w-full py-10">
  <div class="mx-auto max-w-6xl px-4">
    {title && (
      <h2 class="text-3xl md:text-4xl font-semibold text-center mb-8 text-foreground">{title}</h2>
    )}

    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
      {certifications.map((cert) => (
        <article class="card-surface p-6 relative flex flex-col">
          <div class="flex items-start justify-between mb-4">
            <div class="flex-1">
              <h4 class="text-base font-semibold text-foreground m-0 mb-1">{cert.title}</h4>
              <p class="text-sm text-[color:var(--color-text-muted)] m-0">{cert.issuer}</p>
            </div>
            {cert.icon && (
              <div class="text-[var(--accent)] [&>svg]:w-8 [&>svg]:h-8 ml-3" set:html={cert.icon} />
            )}
          </div>
          
          {cert.image && (
            <div class="mb-4 flex justify-center">
              <img 
                src={cert.image} 
                alt={`${cert.title} credential`}
                class="max-w-full h-auto max-h-32 object-contain rounded-lg"
              />
            </div>
          )}
          
          <p class="text-sm text-[color:var(--color-text-secondary)] mb-4 flex-grow">{cert.description}</p>
          
          <div class="space-y-2 text-xs text-[color:var(--color-text-muted)]">
            <div class="flex justify-between">
              <span>Issued:</span>
              <span>{new Date(cert.issueDate).toLocaleDateString('en-US', { year: 'numeric', month: 'short', day: 'numeric' })}</span>
            </div>
            {cert.expiryDate && (
              <div class="flex justify-between">
                <span>Expires:</span>
                <span>{new Date(cert.expiryDate).toLocaleDateString('en-US', { year: 'numeric', month: 'short', day: 'numeric' })}</span>
              </div>
            )}
          </div>

          <div class="mt-4 flex gap-2">
            <Button 
              href={cert.credentialUrl} 
              variant="secondary" 
              size="sm"
              class="flex-1"
            >
              View Credential
            </Button>
          </div>
        </article>
      ))}
    </div>
  </div>
</section>
